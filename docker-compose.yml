version: "3.8"

services:
  atr:
    build: .
    container_name: atr_unificado
    # Se quiser inspecionar o broker de fora:
    ports:
      - "1883:1883"     # MQTT broker
    # Monte o código no container (útil em desenvolvimento). Em produção, pode remover.
    # volumes:
    #   - ./:/app
    environment:
      # Controla o que o start.sh vai iniciar (UI/simulador/ambos)
      # START_UI: "1"       # quando a sua main_ui.py estiver pronta
      START_SIMULATOR: "1"  # simulador Python ligado por padrão
      BROKER_HOST: "localhost"
    tty: true
